{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://giatenica.com/schemas/citation_record.schema.json",
  "title": "CitationRecord",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "schema_version",
    "citation_key",
    "status",
    "title",
    "authors",
    "year",
    "created_at"
  ],
  "properties": {
    "schema_version": {
      "type": "string",
      "const": "1.0"
    },
    "citation_key": {
      "type": "string",
      "minLength": 1
    },
    "status": {
      "type": "string",
      "enum": ["verified", "unverified", "error"]
    },
    "identifiers": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "doi": {
          "oneOf": [
            {"type": "string", "minLength": 1},
            {"type": "null"}
          ]
        },
        "arxiv": {
          "oneOf": [
            {"type": "string", "minLength": 1},
            {"type": "null"}
          ]
        }
      }
    },
    "title": {
      "type": "string",
      "minLength": 1
    },
    "authors": {
      "type": "array",
      "minItems": 1,
      "items": {"type": "string", "minLength": 1}
    },
    "year": {
      "type": "integer",
      "minimum": 1000,
      "maximum": 2100
    },
    "venue": {"type": "string"},
    "volume": {"type": "string"},
    "issue": {"type": "string"},
    "pages": {"type": "string"},
    "publisher": {"type": "string"},
    "url": {"type": "string", "minLength": 1},
    "abstract": {"type": "string"},
    "keywords": {
      "type": "array",
      "items": {"type": "string"}
    },
    "version": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "type": {"type": "string", "enum": ["published", "preprint", "working_paper", "unknown"]},
        "related_working_paper": {"type": ["string", "null"]},
        "related_published": {"type": ["string", "null"]}
      }
    },
    "notes": {"type": "string"},
    "created_at": {"type": "string", "format": "date-time"},
    "metadata": {
      "type": "object",
      "additionalProperties": true
    }
  }
}
